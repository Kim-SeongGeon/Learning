# PART 1. 수학의 기초

## Chapter 3. 3D 강체 변환

### 3.1 회전 행렬

### 3.1.1 점, 벡터 및 좌표계

3차원 공간은 3개의 축으로 구성되므로 공간 점의 위치를 3개의 좌표로 지정할 수 있다. 그러나 이제 위치뿐만 아니라 자신의 자세를 가진 강체를 고려해야 한다. 카메라는 3차원 공간의 강체로 볼 수도 있으며 위치는 카메라가 공간에 있는 위치를 참조하고 자세는 카메라의 방향이다. 

가장 기본적인 점과 벡터부터 보면, 점은 공간의 기본 요소이며 길이가 없고 부피도 없다. 그리고 어떤 두 점을 연결하면 벡터가 형성된다. 벡터는 한 점에서 다른 점을 가리키는 화살표로 볼 수 있다. 벡터를 좌표의 개념과 혼동하지 않도록 주의해야 한다.

선형 대수학의 지식으로 3차원 공간의 점의 좌표는 $\mathbb{R}^3$에 의해 설명될 수 있다. 이 선형 공간에서 해당 공간의 기본 집합 즉, 베이스(base, 기본 집합은 영어로 base이고 공간에서 각각 선형 독립인 벡터의 집합이며, 일부 책은 orthogonal이라고도 한다) $(e_1, e_2, e_3)$ 을 찾았다고 가정하면 임의 벡터 $a$는 이 기본 집합으로 아래와 같이 표현할 수 있다.

$$a = [e_1, e_2, e_3] [a_1 a_2 a_3]^T = a_1e_1 + a_2e_2 + a_3e_3$$

여기서 $(a_1 a_2 a_3)^T$는 이 벡터 $a$의 좌표라고 한다. 좌표의 구체적인 값은 벡터 자체와 관련이 있으며 다른 하나는 좌표계(베이스)의 선택과 관련이 있다. 좌표계는 일반적으로 3개의 직교축으로 구성된다(직교가 아닌 축도 있을 수 있지만 실제로는 드물다). 예를 들어, $x$와 $y$축이 주어지면 $z$축은 오른쪽(또는 왼손) 법칙을 통해 $x$ x $y$로 정의할 수 있다. 정의 방법에 따라 좌표계는 왼손 법칙과 오른손 법칙으로 나뉘는데 왼손 법칙의 세 번째 축은 오른손 법칙과 반대 방향이다. 대부분의 3D 라이브러리는 오른손 법칙(예: OpenGL, 3D Max 등)을 사용하고 일부는 왼손 법칙(예: Unity, Direct3D 등)을 사용한다.

선형 대수학에 대한 기본 지식을 바탕으로 벡터와 벡터, 벡터와 숫자 사이의 연산(예: 스칼라곱, 벡터 덧셈과 뺄셈, 내적과 외적 등)에 대해 이야기할 수 있다. 스칼라곱, 벡터 덧셈과 뺄셈은 쉽게 알 수 있으므로 내적 및 외적에 대해 알아보면 $a, b \in \mathbb{R}^3$의 경우 일반적으로 의미(내적에도 더 일반적인 정의가 있지만 이 책에서는 일반적인 내적에 관해서만 설명한다.)의 내적을 다음과 같이 표현할 수 있다.

$$
a \cdot b = a^T b = \sum_{i=1}^{3} a_i b_i = |a||b|\cos \langle a,b \rangle
$$

$<a,b>$는 두 벡터 $a,b$ 사이의 각도이다. 내적은 벡터 간의 투영 관계를 설명할 수도 있다.  
반면 외적은 다음과 같다.

$$
a \times b = 
\begin{Vmatrix} 
e_1 & e_2 & e_3 \\ 
a_1 & a_2 & a_3 \\ 
b_1 & b_2 & b_3 
\end{Vmatrix} = 
\begin{bmatrix} 
a_2 b_3 - a_3 b_2 \\ 
a_3 b_1 - a_1 b_3 \\ 
a_1 b_2 - a_2 b_1 
\end{bmatrix} = 
\begin{bmatrix} 
0 & -a_3 & a_2 \\ 
a_3 & 0 & -a_1 \\ 
-a_2 & a_1 & 0 
\end{bmatrix} 
b \stackrel{\text{def}}{=} a^\wedge b
$$

외적의 결과는 벡터로 그 방향이 두 벡터에 수직이며 그 크기는 $|a||b|\sin \langle a,b \rangle$인데 두 벡터가 이루는 사변형의 넓이와 같다. 외적 연산의 경우 ^ 기호를 도입하여 표기하는데 이는 벡터 $a$가 skew-symmetric 행렬(skew-symmetric은 행렬 $A$가 $A^T = -A$를 충족한다는 것이다)을 이룬다는 의미이며 ^를 skew-symmetric 행렬 기호로 기억할 수 있겠다.
